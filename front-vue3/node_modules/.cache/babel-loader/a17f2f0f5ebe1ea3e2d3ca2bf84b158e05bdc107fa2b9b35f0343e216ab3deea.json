{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"filter\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_number = _resolveComponent(\"number\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"span\", null, \"Фильтр\", -1 /* HOISTED */)), _createElementVNode(\"div\", null, [_createVNode(_component_number, null, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"0\")])),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_number, null, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"5\")])),\n    _: 1 /* STABLE */\n  })]), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    id: \"rating\",\n    class: \"slider\"\n  }, [_createElementVNode(\"div\", {\n    class: \"block-min\",\n    onMouseDown: \"moveRange( this);\",\n    onTouchStart: \"moveRange( this);\"\n  }), _createElementVNode(\"div\", {\n    class: \"color-range\"\n  }), _createElementVNode(\"div\", {\n    class: \"block-max\",\n    onMouseDown: \"moveRange(this)\",\n    onTouchStart: \"moveRange( this);\"\n  })], -1 /* HOISTED */))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_number","default","_withCtx","_cache","_createTextVNode","_","id","onMouseDown","onTouchStart"],"sources":["C:\\shopvue\\front-vue3\\src\\components\\Menu\\MenuPrice.vue"],"sourcesContent":["<template>\r\n<div class=\"filter\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span>Фильтр</span>\r\n\t\t\t\t\t<div><number>0</number><number>5</number></div>\r\n<div id=\"rating\" class=\"slider\">\r\n\t\t\t\t\t\t<div class=\"block-min\" onMouseDown=\"moveRange( this);\" onTouchStart=\"moveRange( this);\"></div>\r\n\t\t\t\t\t\t<div class=\"color-range\"></div>\r\n\t\t\t\t\t\t<div class=\"block-max\" onMouseDown=\"moveRange(this)\" onTouchStart=\"moveRange( this);\" ></div>\r\n          </div></div></div>\r\n</template>\r\n\r\n<script setup>\r\n\r\nfunction getCoords(elem) {\r\n\t/*Получаем координаты относительно окна браузера*/\r\n\tlet coords = elem.getBoundingClientRect();\r\n\t/*Высчитываем значения координат относительно документа, вычисляя прокрутку документа*/\r\n\treturn {\r\n\t\ttop : coords.top + window.pageYOffset,\r\n\t\tleft : coords.left + window.pageXOffset,\r\n\t\tleftX: coords.left,\r\n\t\trigth : coords.left + window.pageXOffset + coords.width,\r\n\t\tbottom : coords.top + window.pageYOffset + coords.height,\r\n\t\twidth : coords.width\r\n\t}\r\n}\r\n\r\nfunction moveRange (elem) {\r\n\t/*Находим нужный элемент по классу или id*/\r\n\tvar coords = getCoords(elem);\r\n\r\n\t/*Определяем зону окрашывания*/\r\n\tvar colorRange = elem.parentElement.children[1];\r\n\tvar f;//устанавливаем флаг для определения мин или макс элемента\r\n\tvar value; //значение фильтра\r\n\r\n\t/*Определяем второй ползунок и родителя*/\r\n\tvar parent = {}\r\n\t\tparent.element = elem.parentElement;\r\n\t\tparent.coords = getCoords(parent.element);\r\n\r\n\tvar block2 = {}\r\n\tif (elem.classList.contains('block-min')) {\r\n\t\tblock2.element = elem.parentElement.children[2];\r\n\t\tblock2.coords = getCoords(block2.element);\r\n\t\tf=0;\r\n\t} else {\r\n\t\tblock2.element = elem.parentElement.children[0];\r\n\t\tblock2.coords = getCoords(block2.element);\r\n\t\tf=1;\r\n\t}\r\n\r\n\t/*Делаем индикатор над ползунком*/\r\n    var indicator = document.createElement('div');\r\n    if (elem.children.length){\r\n       \telem.innerHTML = '';//обнуляем предыдущее значение\r\n    }\r\n\telem.appendChild(indicator);\r\n\r\n\tdocument.addEventListener('mousemove', onMouseMove);\r\n    document.addEventListener('mouseup', onMouseUp);\r\n    document.addEventListener('touchmove', onMouseMove);\r\n    document.addEventListener('touchend', onMouseUp);\r\n\r\n    /*выключаем браузерное событие DaD*/\r\n    elem.ondragstart = function(){\r\n        return false;\r\n    }\r\n\r\n\tfunction onMouseMove(e) {\r\n\r\n\t\t/*Определяем смещение влево*/\r\n        e.preventDefault();//предотвратить запуск выделения элементов\r\n\r\n        /*Определяем положение мыши в зависимости от устройства*/\r\n        /*На мобильных устройствах может фиксироваться несколько точек касания, поэтому используется массив targetTouches*/\r\n        /*Мы будем брать только первое зафиксированое касание по экрану targetTouches[0]*/\r\n        if (e.touches === undefined) {\r\n        \tvar pos = e.clientX;\r\n        } else {\r\n        \tvar pos = e.targetTouches[0].clientX;\r\n        }\r\n\r\n        /*Устанавливаем границы движения ползунка*/\r\n        let newLeft = pos - parent.coords.leftX;\r\n        let rigthEdge = parent.coords.width - (coords.width+1);\r\n\r\n        if (newLeft<0) {\r\n        \tnewLeft = 0;\r\n        } else if (newLeft > rigthEdge) {\r\n        \tnewLeft = rigthEdge;\r\n        }\r\n        if (f == 0 && pos > block2.coords.left-block2.coords.width) {\r\n        \tnewLeft = block2.coords.left - block2.coords.width - parent.coords.leftX;\r\n        }else if (f == 1 && pos < block2.coords.rigth + 5) {\r\n        \tnewLeft = block2.coords.rigth - block2.coords.left;\r\n        }\r\n        /*устанавливаем отступ нашему элементу*/\r\n    \telem.style.left = newLeft + 'px';\r\n\r\n    \t//     Определяем значение фильтра\r\n    \tlet rangeMin = +document.querySelector('.filter number:first-child').innerHTML;\r\n    \tlet rangeMax = +document.querySelector('.filter number:last-child').innerHTML;\r\n        if(f==0){\r\n          value =  (newLeft / (parent.coords.width / (rangeMax - rangeMin)) + rangeMin).toFixed(1);\r\n        } else {\r\n          value = (newLeft / (parent.coords.width / (rangeMax - rangeMin))+ 0.3 + rangeMin).toFixed(1);\r\n        }\r\n\r\n    \t/*Выводим значение над ползунком*/\r\n    \tindicator.style.position = 'absolute';\r\n    \tindicator.style.fontSize = \"14px\";\r\n    \tindicator.style.left = - coords.width/2 + \"px\";\r\n    \tindicator.style.top = parseFloat(window.getComputedStyle(elem).getPropertyValue('top')) - 10 +\"px\";\r\n\r\n    \t/*Для красоты слайдера уберем вывод значений в начальной и конечной точках*/\r\n    \tif (value <= rangeMin){\r\n    \t\tindicator.innerHTML= \"\";\r\n    \t} else if (value >= rangeMax) {\r\n    \t\tindicator.innerHTML= \"\";\r\n    \t} else {\r\n    \t\tindicator.innerHTML = value;\r\n    \t}\r\n\r\n\r\n    \t/*Делаем цветную плашечку диапазона выбора*/\r\n    \tif (f == 0) {\r\n\t    \tcolorRange.style.left = newLeft + coords.width + \"px\";\r\n\t    \tcolorRange.style.width = block2.coords.left - getCoords(elem).left - coords.width + \"px\";\r\n    \t}  else {\r\n    \t\tcolorRange.style.left = block2.coords.left - parent.coords.leftX + \"px\";\r\n    \t\tcolorRange.style.width = getCoords(elem).left - block2.coords.left + \"px\";\r\n    \t}    \r\n\t}\r\n\r\n\tfunction onMouseUp() {\r\n\t    document.removeEventListener('mouseup', onMouseUp);\r\n\t    document.removeEventListener('mousemove', onMouseMove);\r\n\t    document.removeEventListener('touchend', onMouseUp);\r\n\t    document.removeEventListener('touchmove', onMouseMove);\r\n\t}\r\n\r\n\t\r\n}\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\nh1{\r\ncolor:#fff;\r\nborder-bottom: 2px solid #fff;\r\nborder-top: 2px solid #fff;\r\npadding-bottom: 5px;\r\n \r\n}\r\n.wrapper {\r\n  width: 400px;\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  padding: 20px 25px 40px;\r\n  box-shadow: 0 12px 35px rgba(0, 0, 0, 0.1);\r\nbox-shadow: rgba(0, 0, 0, 0.2) 0px 60px 40px -7px;\r\n}\r\nheader h2 {\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n}\r\nheader p {\r\n  margin-top: 5px;\r\n  font-size: 16px;\r\n}\r\n.price-input {\r\n  width: 100%;\r\n  display: flex;\r\n  margin: 30px 0 35px;\r\n}\r\n.price-input .field {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 45px;\r\n  align-items: center;\r\n}\r\n.field input {\r\n  width: 100%;\r\n  height: 100%;\r\n  outline: none;\r\n  font-size: 19px;\r\n  margin-left: 12px;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  border: 1px solid #999;\r\n  -moz-appearance: textfield;\r\n}\r\ninput[type=\"number\"]::-webkit-outer-spin-button,\r\ninput[type=\"number\"]::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n}\r\n.price-input .separator {\r\n  width: 130px;\r\n  display: flex;\r\n  font-size: 19px;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.slider {\r\n  height: 5px;\r\n  position: relative;\r\n  background: #ddd;\r\n  border-radius: 5px;\r\n}\r\n.slider .progress {\r\n  height: 100%;\r\n  left: 25%;\r\n  right: 25%;\r\n  position: absolute;\r\n  border-radius: 5px;\r\n  background: #1F5785;\r\n}\r\n.range-input {\r\n  position: relative;\r\n}\r\n.range-input input {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 5px;\r\n  top: -5px;\r\n  background: none;\r\n  pointer-events: none;\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n}\r\ninput[type=\"range\"]::-webkit-slider-thumb {\r\n  height: 17px;\r\n  width: 17px;\r\n  border-radius: 50%;\r\n  background: #1F5785;\r\n  pointer-events: auto;\r\n  -webkit-appearance: none;\r\n  box-shadow: 0 0 6px rgba(0, 0, 0, 0.05);\r\n}\r\ninput[type=\"range\"]::-moz-range-thumb {\r\n  height: 17px;\r\n  width: 17px;\r\n  border: none;\r\n  border-radius: 50%;\r\n  background: #1F5785;\r\n  pointer-events: auto;\r\n  -moz-appearance: none;\r\n  box-shadow: 0 0 6px rgba(0, 0, 0, 0.05);\r\n}\r\n \r\n/* Support */\r\n.support-box {\r\n  top: 2rem;\r\n  position: relative;\r\n  bottom: 0;\r\n  text-align: center;\r\n  display: block;\r\n}\r\n.b-btn {\r\n  color: white;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n}\r\n.b-btn.paypal i {\r\n  color: blue;\r\n}\r\n.b-btn:hover {\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n}\r\n.b-btn i {\r\n  font-size: 20px;\r\n  color: yellow;\r\n  margin-top: 2rem;\r\n}\r\n</style>"],"mappings":";;EACKA,KAAK,EAAC;AAAQ;;;uBAAnBC,mBAAA,CAQ4B,OAR5BC,UAQ4B,GAPxBC,mBAAA,CAOkB,c,0BANjBA,mBAAA,CAAmB,cAAb,QAAM,sBACZA,mBAAA,CAA+C,cAA1CC,YAAA,CAAkBC,iBAAA;IAJ5BC,OAAA,EAAAC,QAAA,CAIkB,MAACC,MAAA,QAAAA,MAAA,OAJnBC,gBAAA,CAIkB,GAAC,E;IAJnBC,CAAA;MAI4BN,YAAA,CAAkBC,iBAAA;IAJ9CC,OAAA,EAAAC,QAAA,CAIoC,MAACC,MAAA,QAAAA,MAAA,OAJrCC,gBAAA,CAIoC,GAAC,E;IAJrCC,CAAA;kCAKAP,mBAAA,CAIgB;IAJXQ,EAAE,EAAC,QAAQ;IAACX,KAAK,EAAC;MACjBG,mBAAA,CAA8F;IAAzFH,KAAK,EAAC,WAAW;IAACY,WAAW,EAAC,mBAAmB;IAACC,YAAY,EAAC;MACpEV,mBAAA,CAA+B;IAA1BH,KAAK,EAAC;EAAa,IACxBG,mBAAA,CAA6F;IAAxFH,KAAK,EAAC,WAAW;IAACY,WAAW,EAAC,iBAAiB;IAACC,YAAY,EAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}