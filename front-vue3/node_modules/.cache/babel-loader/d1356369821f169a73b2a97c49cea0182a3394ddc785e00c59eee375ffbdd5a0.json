{"ast":null,"code":"import \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport { ref, onMounted, computed } from 'vue';\n\n// Состояние для хранения данных\n\nexport default {\n  __name: 'LeftMenu',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const categories = ref([]);\n    const products = ref([]);\n    const selectedCategory = ref(null);\n    const selectedBrands = ref([]); // Хранит выбранные бренды\n    const selectedCategories = ref([]); // Хранит выбранные категории\n\n    // Загружаем данные при монтировании компонента\n    onMounted(async () => {\n      await loadCategories();\n      await loadProducts();\n    });\n\n    // Функция для загрузки категорий\n    const loadCategories = async () => {\n      try {\n        const response = await fetch('http://localhost:1452/api/categories');\n        if (!response.ok) {\n          throw new Error('Ошибка при загрузке категорий');\n        }\n        const data = await response.json();\n        categories.value = data;\n      } catch (error) {\n        console.error('Ошибка при загрузке категорий:', error);\n      }\n    };\n\n    // Функция для загрузки товаров по категории\n    const loadProducts = async () => {\n      try {\n        const response = await fetch('http://localhost:1452/api/products'); // Получаем все товары\n        if (!response.ok) {\n          throw new Error('Ошибка при загрузке товаров');\n        }\n        const data = await response.json();\n        products.value = data;\n      } catch (error) {\n        console.error('Ошибка при загрузке товаров:', error);\n      }\n    };\n\n    // Фильтруем товары по выбранным фильтрам\n    const filteredProducts = computed(() => {\n      return products.value.filter(product => {\n        const matchesCategory = selectedCategories.value.length === 0 || selectedCategories.value.includes(product.category);\n        const matchesBrand = selectedBrands.value.length === 0 || selectedBrands.value.includes(product.brand);\n        return matchesCategory && matchesBrand;\n      });\n    });\n\n    // Получаем уникальные бренды и категории для фильтров\n    const uniqueBrands = computed(() => {\n      const brands = products.value.map(product => product.brand);\n      return [...new Set(brands)];\n    });\n    const uniqueCategories = computed(() => {\n      const categoriesList = products.value.map(product => product.category);\n      return [...new Set(categoriesList)];\n    });\n\n    // Выбираем категорию\n    const selectCategory = category => {\n      selectedCategory.value = category;\n      loadProducts(); // Загружаем товары для выбранной категории\n    };\n    const __returned__ = {\n      categories,\n      products,\n      selectedCategory,\n      selectedBrands,\n      selectedCategories,\n      loadCategories,\n      loadProducts,\n      filteredProducts,\n      uniqueBrands,\n      uniqueCategories,\n      selectCategory,\n      ref,\n      onMounted,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","computed","categories","products","selectedCategory","selectedBrands","selectedCategories","loadCategories","loadProducts","response","fetch","ok","Error","data","json","value","error","console","filteredProducts","filter","product","matchesCategory","length","includes","category","matchesBrand","brand","uniqueBrands","brands","map","Set","uniqueCategories","categoriesList","selectCategory"],"sources":["C:/shopvue/front-vue3/src/components/Menu/LeftMenu.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"category-menu\">\r\n      <h3>Категории</h3>\r\n      <ul>\r\n        <li v-for=\"category in categories\" :key=\"category.id\" @click=\"selectCategory(category)\">\r\n          {{ category.name }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div class=\"filter-menu\">\r\n      <h3>Фильтры</h3>\r\n      <div>\r\n        <label>Бренд:</label>\r\n        <div v-for=\"brand in uniqueBrands\" :key=\"brand\">\r\n          <input\r\n            type=\"checkbox\"\r\n            :value=\"brand\"\r\n            v-model=\"selectedBrands\"\r\n          /> {{ brand }}\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label>Категория:</label>\r\n        <div v-for=\"category in uniqueCategories\" :key=\"category\">\r\n          <input\r\n            type=\"checkbox\"\r\n            :value=\"category\"\r\n            v-model=\"selectedCategories\"\r\n          /> {{ category }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"product-list\">\r\n      <div v-for=\"product in filteredProducts\" :key=\"product.id\" class=\"product\">\r\n        <h4>{{ product.name }}</h4>\r\n        <ul>\r\n          <li v-for=\"(characteristic, index) in product.characteristics\" :key=\"index\">\r\n            {{ characteristic.characteristic }}: {{ characteristic.value }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed } from 'vue';\r\n\r\n// Состояние для хранения данных\r\nconst categories = ref([]);\r\nconst products = ref([]);\r\nconst selectedCategory = ref(null);\r\nconst selectedBrands = ref([]); // Хранит выбранные бренды\r\nconst selectedCategories = ref([]); // Хранит выбранные категории\r\n\r\n// Загружаем данные при монтировании компонента\r\nonMounted(async () => {\r\n  await loadCategories();\r\n  await loadProducts();\r\n});\r\n\r\n// Функция для загрузки категорий\r\nconst loadCategories = async () => {\r\n  try {\r\n    const response = await fetch('http://localhost:1452/api/categories');\r\n    if (!response.ok) {\r\n      throw new Error('Ошибка при загрузке категорий');\r\n    }\r\n    const data = await response.json();\r\n    categories.value = data;\r\n  } catch (error) {\r\n    console.error('Ошибка при загрузке категорий:', error);\r\n  }\r\n};\r\n\r\n// Функция для загрузки товаров по категории\r\nconst loadProducts = async () => {\r\n  try {\r\n    const response = await fetch('http://localhost:1452/api/products'); // Получаем все товары\r\n    if (!response.ok) {\r\n      throw new Error('Ошибка при загрузке товаров');\r\n    }\r\n    const data = await response.json();\r\n    products.value = data;\r\n  } catch (error) {\r\n    console.error('Ошибка при загрузке товаров:', error);\r\n  }\r\n};\r\n\r\n// Фильтруем товары по выбранным фильтрам\r\nconst filteredProducts = computed(() => {\r\n  return products.value.filter(product => {\r\n    const matchesCategory = selectedCategories.value.length === 0 || selectedCategories.value.includes(product.category);\r\n    const matchesBrand = selectedBrands.value.length === 0 || selectedBrands.value.includes(product.brand);\r\n    return matchesCategory && matchesBrand;\r\n  });\r\n});\r\n\r\n// Получаем уникальные бренды и категории для фильтров\r\nconst uniqueBrands = computed(() => {\r\n  const brands = products.value.map(product => product.brand);\r\n  return [...new Set(brands)];\r\n});\r\n\r\nconst uniqueCategories = computed(() => {\r\n  const categoriesList = products.value.map(product => product.category);\r\n  return [...new Set(categoriesList)];\r\n});\r\n\r\n// Выбираем категорию\r\nconst selectCategory = (category) => {\r\n  selectedCategory.value = category;\r\n  loadProducts(); // Загружаем товары для выбранной категории\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.category-menu {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.category-menu ul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\n\r\n.category-menu li {\r\n  cursor: pointer;\r\n  padding: 5px;\r\n  background-color: #f0f0f0;\r\n  margin: 5px 0;\r\n}\r\n\r\n.category-menu li:hover {\r\n  background-color: #e0e0e0;\r\n}\r\n\r\n.filter-menu {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filter-menu div {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.filter-menu label {\r\n  font-weight: bold;\r\n}\r\n\r\n.product-list .product {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.product-list ul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}