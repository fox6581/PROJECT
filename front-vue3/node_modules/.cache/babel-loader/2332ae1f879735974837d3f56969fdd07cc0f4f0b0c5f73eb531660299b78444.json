{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"filter\"\n};\nconst _hoisted_2 = {\n  id: \"rating\",\n  class: \"slider\",\n  ref: \"sliderContainer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_number = _resolveComponent(\"number\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"span\", null, \"Фильтр\", -1 /* HOISTED */)), _createElementVNode(\"div\", null, [_createVNode(_component_number, null, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"0\")])),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_number, null, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"5\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    class: \"block-min\",\n    ref: \"minBlock\",\n    onMousedown: _cache[0] || (_cache[0] = $event => $setup.startMoveRange('min')),\n    onTouchstart: _cache[1] || (_cache[1] = $event => $setup.startMoveRange('min'))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), _createElementVNode(\"div\", {\n    class: \"color-range\",\n    style: _normalizeStyle($setup.colorRangeStyle)\n  }, null, 4 /* STYLE */), _createElementVNode(\"div\", {\n    class: \"block-max\",\n    ref: \"maxBlock\",\n    onMousedown: _cache[2] || (_cache[2] = $event => $setup.startMoveRange('max')),\n    onTouchstart: _cache[3] || (_cache[3] = $event => $setup.startMoveRange('max'))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */)], 512 /* NEED_PATCH */)])]);\n}","map":{"version":3,"names":["class","id","ref","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_number","default","_withCtx","_cache","_createTextVNode","_","_hoisted_2","onMousedown","$event","$setup","startMoveRange","onTouchstart","style","_normalizeStyle","colorRangeStyle"],"sources":["C:\\shopvue\\front-vue3\\src\\components\\Menu\\MenuPrice.vue"],"sourcesContent":["<template>\r\n    <div class=\"filter\">\r\n      <div>\r\n        <span>Фильтр</span>\r\n        <div>\r\n          <number>0</number>\r\n          <number>5</number>\r\n        </div>\r\n        <div id=\"rating\" class=\"slider\" ref=\"sliderContainer\">\r\n          <div\r\n            class=\"block-min\"\r\n            ref=\"minBlock\"\r\n            @mousedown=\"startMoveRange('min')\"\r\n            @touchstart=\"startMoveRange('min')\"\r\n          ></div>\r\n          <div class=\"color-range\" :style=\"colorRangeStyle\"></div>\r\n          <div\r\n            class=\"block-max\"\r\n            ref=\"maxBlock\"\r\n            @mousedown=\"startMoveRange('max')\"\r\n            @touchstart=\"startMoveRange('max')\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { ref, reactive, onMounted } from 'vue';\r\n  \r\n  const sliderContainer = ref(null);\r\n  const minBlock = ref(null);\r\n  const maxBlock = ref(null);\r\n  const colorRangeStyle = reactive({ left: '0px', width: '100px' });\r\n  \r\n  const minValue = ref(0);\r\n  const maxValue = ref(5);\r\n  const rangeMin = 0;\r\n  const rangeMax = 5;\r\n  \r\n  let activeElement = null;\r\n  \r\n  function startMoveRange(type) {\r\n    activeElement = type;\r\n    document.addEventListener('mousemove', onMouseMove);\r\n    document.addEventListener('mouseup', onMouseUp);\r\n    document.addEventListener('touchmove', onMouseMove);\r\n    document.addEventListener('touchend', onMouseUp);\r\n  }\r\n  \r\n  function getCoords(elem) {\r\n    const coords = elem.getBoundingClientRect();\r\n    return {\r\n      left: coords.left + window.pageXOffset,\r\n      width: coords.width\r\n    };\r\n  }\r\n  \r\n  function onMouseMove(e) {\r\n    const sliderCoords = getCoords(sliderContainer.value);\r\n    const blockCoords = activeElement === 'min' ? getCoords(maxBlock.value) : getCoords(minBlock.value);\r\n    let posX = e.touches ? e.touches[0].clientX : e.clientX;\r\n    let newLeft = posX - sliderCoords.left;\r\n  \r\n    if (activeElement === 'min') {\r\n      newLeft = Math.max(0, Math.min(newLeft, blockCoords.left - sliderCoords.left - minBlock.value.offsetWidth));\r\n      minBlock.value.style.left = `${newLeft}px`;\r\n      minValue.value = (newLeft / sliderCoords.width) * (rangeMax - rangeMin) + rangeMin;\r\n    } else {\r\n      newLeft = Math.min(sliderCoords.width - maxBlock.value.offsetWidth, Math.max(newLeft, blockCoords.left - sliderCoords.left));\r\n      maxBlock.value.style.left = `${newLeft}px`;\r\n      maxValue.value = (newLeft / sliderCoords.width) * (rangeMax - rangeMin) + rangeMin;\r\n    }\r\n  \r\n    updateColorRange();\r\n  }\r\n  \r\n  function onMouseUp() {\r\n    document.removeEventListener('mousemove', onMouseMove);\r\n    document.removeEventListener('mouseup', onMouseUp);\r\n    document.removeEventListener('touchmove', onMouseMove);\r\n    document.removeEventListener('touchend', onMouseUp);\r\n  }\r\n  \r\n  function updateColorRange() {\r\n    const minLeft = minBlock.value.offsetLeft;\r\n    const maxLeft = maxBlock.value.offsetLeft;\r\n    colorRangeStyle.left = `${minLeft}px`;\r\n    colorRangeStyle.width = `${maxLeft - minLeft}px`;\r\n  }\r\n  \r\n  onMounted(() => {\r\n    updateColorRange();\r\n  });\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .filter {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n  }\r\n  .slider {\r\n    position: relative;\r\n    width: 300px;\r\n    height: 10px;\r\n    background: #ddd;\r\n    border-radius: 5px;\r\n    margin-top: 20px;\r\n  }\r\n  .block-min, .block-max {\r\n    position: absolute;\r\n    top: -5px;\r\n    width: 16px;\r\n    height: 16px;\r\n    background: #4CAF50;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n  }\r\n  .color-range {\r\n    position: absolute;\r\n    top: 0;\r\n    height: 10px;\r\n    background: #4CAF50;\r\n  }\r\n  </style>\r\n  "],"mappings":";;EACSA,KAAK,EAAC;AAAQ;;EAOVC,EAAE,EAAC,QAAQ;EAACD,KAAK,EAAC,QAAQ;EAACE,GAAG,EAAC;;;;uBAPxCC,mBAAA,CAuBM,OAvBNC,UAuBM,GAtBJC,mBAAA,CAqBM,c,0BApBJA,mBAAA,CAAmB,cAAb,QAAM,sBACZA,mBAAA,CAGM,cAFJC,YAAA,CAAkBC,iBAAA;IAL5BC,OAAA,EAAAC,QAAA,CAKkB,MAACC,MAAA,QAAAA,MAAA,OALnBC,gBAAA,CAKkB,GAAC,E;IALnBC,CAAA;MAMUN,YAAA,CAAkBC,iBAAA;IAN5BC,OAAA,EAAAC,QAAA,CAMkB,MAACC,MAAA,QAAAA,MAAA,OANnBC,gBAAA,CAMkB,GAAC,E;IANnBC,CAAA;QAQQP,mBAAA,CAcM,OAdNQ,UAcM,GAbJR,mBAAA,CAKO;IAJLL,KAAK,EAAC,WAAW;IACjBE,GAAG,EAAC,UAAU;IACbY,WAAS,EAAAJ,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAAEC,MAAA,CAAAC,cAAc;IACzBC,YAAU,EAAAR,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAAEC,MAAA,CAAAC,cAAc;kDAE7BZ,mBAAA,CAAwD;IAAnDL,KAAK,EAAC,aAAa;IAAEmB,KAAK,EAfzCC,eAAA,CAe2CJ,MAAA,CAAAK,eAAe;2BAChDhB,mBAAA,CAKO;IAJLL,KAAK,EAAC,WAAW;IACjBE,GAAG,EAAC,UAAU;IACbY,WAAS,EAAAJ,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAAEC,MAAA,CAAAC,cAAc;IACzBC,YAAU,EAAAR,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAAEC,MAAA,CAAAC,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}