{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache) {\n  const _component_ProductCart = _resolveComponent(\"ProductCart\");\n  const _component_ProductPagination = _resolveComponent(\"ProductPagination\");\n  const _component_ProductFilter = _resolveComponent(\"ProductFilter\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"h3\", null, \"Количество товаров: \" + _toDisplayString(_ctx.totalProducts), 1 /* TEXT */), _createVNode(_component_ProductCart, {\n    products: _ctx.paginatedProducts,\n    apiUrl: _ctx.apiUrl\n  }, null, 8 /* PROPS */, [\"products\", \"apiUrl\"]), _createVNode(_component_ProductPagination, {\n    currentPage: _ctx.currentPage,\n    totalPages: _ctx.totalPages\n  }, null, 8 /* PROPS */, [\"currentPage\", \"totalPages\"]), _createVNode(_component_ProductFilter, {\n    brands: _ctx.brands,\n    categories: _ctx.categories,\n    characteristics: _ctx.characteristics\n  }, null, 8 /* PROPS */, [\"brands\", \"categories\", \"characteristics\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_createElementVNode","_toDisplayString","_ctx","totalProducts","_createVNode","_component_ProductCart","products","paginatedProducts","apiUrl","_component_ProductPagination","currentPage","totalPages","_component_ProductFilter","brands","categories","characteristics"],"sources":["C:\\shopvue\\front-vue3\\src\\components\\Menu\\LeftMenu.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <h3>Количество товаров: {{ totalProducts }}</h3>\r\n      <ProductCart :products=\"paginatedProducts\" :apiUrl=\"apiUrl\" />\r\n      <ProductPagination :currentPage=\"currentPage\" :totalPages=\"totalPages\" />\r\n      <ProductFilter :brands=\"brands\" :categories=\"categories\" :characteristics=\"characteristics\" />\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import ProductCart from '../Products/ProductCart.vue';\r\n  import ProductPagination from '../Products/ProductPagination.vue';\r\n  import ProductFilter from '../Filter/ProductFilter.vue';\r\n  import { ref, computed, onMounted } from 'vue';\r\n  import { API_BASE_URL } from '@/config';\r\n  \r\n  const apiUrl = API_BASE_URL;\r\n  const paginatedProducts = ref([]);\r\n  const currentPage = ref(1);\r\n  const productsPerPage = 10; // Задаем количество товаров на странице\r\n  \r\n  // Инициализируем бренды, категории и характеристики для фильтра\r\n  const brands = ref([]);\r\n  const categories = ref([]);\r\n  const characteristics = ref([]);\r\n  \r\n  // Загружаем данные\r\n  const loadProducts = async () => {\r\n    const loadCategories = async () => {\r\n    try {\r\n        const response = await fetch('http://localhost:1452/api/products');\r\n        if (!response.ok) {\r\n            throw new Error('Ошибка при загрузке категорий');\r\n        }\r\n        const data = await response.json();\r\n        categories.value = data;\r\n\r\n        extractBrands(data);\r\n        extractCategorys(data);\r\n        extractCharacteristics(data);\r\n    } catch (error) {\r\n        console.error('Ошибка при загрузке категорий:', error);\r\n    }\r\n};\r\n\r\n  \r\n  onMounted(() => {\r\n    loadProducts();\r\n  });\r\n  \r\n  const totalProducts = computed(() => paginatedProducts.value.length);\r\n  const totalPages = computed(() => Math.ceil(totalProducts.value / productsPerPage));\r\n  </script>\r\n  \r\n  "],"mappings":";;;;;uBACIA,mBAAA,CAKM,cAJJC,mBAAA,CAAgD,YAA5C,sBAAoB,GAAAC,gBAAA,CAAGC,IAAA,CAAAC,aAAa,kBACxCC,YAAA,CAA8DC,sBAAA;IAAhDC,QAAQ,EAAEJ,IAAA,CAAAK,iBAAiB;IAAGC,MAAM,EAAEN,IAAA,CAAAM;mDACpDJ,YAAA,CAAyEK,4BAAA;IAArDC,WAAW,EAAER,IAAA,CAAAQ,WAAW;IAAGC,UAAU,EAAET,IAAA,CAAAS;0DAC3DP,YAAA,CAA8FQ,wBAAA;IAA9EC,MAAM,EAAEX,IAAA,CAAAW,MAAM;IAAGC,UAAU,EAAEZ,IAAA,CAAAY,UAAU;IAAGC,eAAe,EAAEb,IAAA,CAAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}